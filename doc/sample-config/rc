# 代理服务器监听地址，用逗号分隔多个地址
# 0.0.0.0 表示监听本机所有 IP 地址
# PAC url 为 http://<listen>/pac，若 listen ip 为 0.0.0.0，
# PAC 中的代理服务器地址会根据 client 从哪个 ip 访问正确的生成
listen = 127.0.0.1:7777

# 日志文件路径，空字符串表示 stdout
logFile =

# COW 默认仅对被墙网站使用二级代理（可以是 SOCKS5 或 shadowsocks 代理）
# 总使用二级代理设置为 true 后，所有网站都通过二级代理访问
#alwaysProxy = false

#############################
# SOCKS5 代理
#############################

# SOCKS5 代理地址
socks = 127.0.0.1:1080

# 你可以注释掉下面的选项，自己启动 socks 代理
# 或者让 COW 执行 ssh 命令创建本地 socks 代理，并在 ssh 断开后重连
# 注意这一功能需要配置好 ssh public key authentication
#
# 若指定该选项，COW 将执行以下命令：
#     ssh -n -N -D <socks 选项中的端口> -p <sshServer 选项中的端口> <sshServer>
# sshServer 端口默认为 22。如果要指定其他 ssh 选项，请修改 ~/.ssh/config
#sshServer = user@server[:port]

#############################
# shadowsocks 代理
#############################

# 若你有自己的 VPS，推荐使用 shadowsocks。服务器端部署完成后本机无需 socks 代理
# 若同时指定 shadowsocks 和 SOCKS5 代理，优先使用 shadowsocks

# shadowsocks 服务器地址，一定要指定端口
#shadowsocks = 1.1.1.1:8838
# shadowsocks 密码
#shadowPasswd = barfoo!
# shadowsocks 加密方法, 空字符串或者 rc4
#shadowMethod = 

#############################
# 认证
#############################

# 指定允许的 IP 或者网段。网段仅支持 IPv4，IP 可以指定 v6 地址，用逗号分隔多个项
#allowedClient = 192.168.1.0/24, 10.0.0.0/8, 8.8.8.8

# 通过用户名密码认证
#userPasswd = username:password

# 认证失效时间
# 语法：2h3m4s 表示 2 小时 3 分钟 4 秒
#authTimeout = 2h

# COW 总是先验证 IP 是否在 allowedClient 中，若不在其中再通过用户名密码认证

#############################
# 高级选项
#############################

# 最多允许使用多少个 CPU 核
#core = 2

# GFW 会使 DNS 解析超时，也可能返回错误的地址，能连接但是读不到任何内容
# 下面两个值改小一点可以加速检测网站是否被墙，但网络情况差时可能误判

# 创建连接超时（语法跟 authTimeout 相同）
#dialTimeout = 5s
# 从服务器读超时
#readTimeout = 5s

# 遇到超时错误自动用二级代理重试（域名将处理为暂时被墙，2 分钟后再次尝试直接连接）
# 如果禁用，超时错误返回错误页面让用户选择如何处理。由于有些网页包含来自不同 host 的内容，
# 错误页面并不是总能显示，所以推荐设置为 true
#autoRetry = true

# 如果没耐心可以直接忽略下面的选项。

# 下面两个选项开启后，COW 可以记录你经常访问的网站，这样做可以提高性能：
#
# - 可直连网站会出现在 PAC 文件中，浏览器会直接访问而不通过 COW
# - 被墙网站会直接通过二级代理访问，从而不需要等待超时或 reset
#
# 但被墙网站的检测不够准确（尤其在网络环境差的情况下），所以记录中可能会有错误，
# 而且总是更新会记录下过多的直连网站
#
# 推荐关闭这两个选项，让 COW 完全自动化工作（COW 内置了一些常见的被墙和直连域名列表）。
# 日志文件里记录了哪些域名可能被墙，可以把它们添加到 blocked 文件。
#
# 如果非常在意性能，打开这两个选项后使用 COW 一段时间，然后手动修正记录到的被墙和直连网站列表，
# 再将这两个选项关闭以避免记录过多被墙和直连网站（无须合并到 blocked/direct 文件）

# 更新被墙域名列表 (~/.cow/auto-blocked)
# 开启后，检测到的被墙网站会一直认为是被墙
#updateBlocked = false
# 更新直连网站列表 (~/.cow/auto-direct)
# 开启后，检测到的直连网站会被包含进 PAC 中（客户端刷新 PAC 后才能生效）
#updateDirect = false

# 基于 client 是否很快关闭连接来检测 SSL 错误，只对 Chrome 有效
# （Chrome 遇到 SSL 错误会直接关闭连接，而不是让用户选择是否继续）
# 可能将可直连网站误判为被墙网站，当 GFW 进行 SSL 中间人攻击时可以考虑使用
#detectSSLErr = false
